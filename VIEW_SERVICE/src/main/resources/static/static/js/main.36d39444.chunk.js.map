{"version":3,"sources":["Fileview.js","App.js","index.js"],"names":["useRowStyles","makeStyles","root","borderBottom","Fileview","React","Component","constructor","props","super","this","state","files","componentDidMount","fetch","then","fileList","json","map","f","name","analysis","setState","a","fileAnalysis","file","getFileAnalysis","filename","split","catch","err","console","error","Promise","all","filesUpdate","render","style","width","margin","TableContainer","component","Paper","Table","aria-label","TableHead","TableRow","TableCell","TableBody","row","Row","key","useState","open","setOpen","classes","Fragment","className","IconButton","size","onClick","scope","paddingBottom","paddingTop","colSpan","Collapse","in","timeout","unmountOnExit","Box","Typography","variant","gutterBottom","align","length","analysisRow","function","cconv","rettype","isns","App","rootElement","document","getElementById","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.36d39444.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./styles.css\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Collapse from \"@material-ui/core/Collapse\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nimport Typography from \"@material-ui/core/Typography\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport KeyboardArrowDownIcon from \"@material-ui/icons/KeyboardArrowDown\";\nimport KeyboardArrowUpIcon from \"@material-ui/icons/KeyboardArrowUp\";\n\n\n\n\nfunction getFileList() {\n    return fetch(\"http://localhost:8080/file_list\")\n    .then((fileList) => fileList.json())\n}\nfunction getFileAnalysis(filename) {\n    filename = filename.split(\".\")[0];\n  \n    return fetch(`http://localhost:8080/process/${filename}`)\n      .then((f) => f.json())\n      .catch((err) => {\n        console.error(err);\n        return { error: err };\n      });\n  }\n\n\n  const useRowStyles = makeStyles({\n    root: {\n      \"& > *\": {\n        borderBottom: \"unset\",\n      },\n    },\n  });\n\nexport class Fileview extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      files: [],\n    };\n  }\n\n  async componentDidMount() {\n    await getFileList()\n      .then((fileList) => {\n        const files = fileList.map((f) => ({ name: f, analysis: {} }));\n        this.setState({ files }, async () => {\n          const fileAnalysis = this.state.files.map((file) =>\n            getFileAnalysis(file.name).then((analysis) => {\n              return { name: file.name, analysis };\n            })\n          );\n          const filesUpdate = await Promise.all(fileAnalysis);\n          this.setState({ files: filesUpdate });\n        });\n      });\n  }\n\n  render() {\n    return (\n      <div style={{ width: \"80vw\", margin: \"0 auto\" }}>\n        <br />\n\n        <TableContainer component={Paper}>\n          <Table aria-label=\"collapsible table\">\n            <TableHead>\n              <TableRow>\n                <TableCell />\n                <TableCell>File name</TableCell>\n                \n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {this.state.files.map((row) => (\n                <Row key={row.name} row={row} />\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      </div>\n    );\n  }\n\n\n}\n\n\n\nfunction Row(props) {\n  const { row } = props;\n  const [open, setOpen] = React.useState(false);\n  const classes = useRowStyles();\n\n  return (\n    <React.Fragment>\n      <TableRow className={classes.root}>\n        <TableCell>\n          <IconButton\n            aria-label=\"expand row\"\n            size=\"small\"\n            onClick={() => setOpen(!open)}\n          >\n            {open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n          </IconButton>\n        </TableCell>\n        <TableCell component=\"th\" scope=\"row\">\n          {row.name}\n        </TableCell>\n      </TableRow>\n      <TableRow>\n        <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n          <Collapse in={open} timeout=\"auto\" unmountOnExit>\n            <Box margin={1}>\n              <Typography variant=\"h6\" gutterBottom component=\"div\">\n                Analysis\n              </Typography>\n              <Table size=\"small\" aria-label=\"analysis\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>Function</TableCell>\n                    <TableCell>Calling convention</TableCell>\n                    <TableCell align=\"right\">Return type</TableCell>\n                    <TableCell align=\"right\">Number of instructions</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {row &&\n                    row.analysis &&\n                    row.analysis.length > 0 &&\n                    row.analysis.map((analysisRow) => (\n                      <TableRow key={analysisRow.function}>\n                        <TableCell component=\"th\" scope=\"row\">\n                          {analysisRow.function}\n                        </TableCell>\n                        <TableCell>{analysisRow.cconv}</TableCell>\n                        <TableCell align=\"right\">\n                          {analysisRow.rettype}\n                        </TableCell>\n                        <TableCell align=\"right\">{analysisRow.isns}</TableCell>\n                      </TableRow>\n                    ))}\n                </TableBody>\n              </Table>\n            </Box>\n          </Collapse>\n        </TableCell>\n      </TableRow>\n    </React.Fragment>\n  );\n}\n","import React from \"react\";\nimport \"./styles.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport {Fileview} from \"./Fileview\"\n\n\nexport default function App() {\n  // React.useEffect(() => {\n  //   getFileInfo().then((fils) => console.log({ fils }));\n  // });\n  return (\n    <div className=\"App\">\n      <h1>  View File Analysis</h1>\n      <h2> </h2>\n        <div></div>\n        <Fileview></Fileview>\n    </div>\n  );\n}\n\n// async function getFileInfo() {\n//   const fileList = await fetch(\"http://localhost:8080/file_list\");\n//   const fileInfo = await fetch(\"http://localhost:8080/process/a75\");\n//   return { fileList, fileInfo };\n// }\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}